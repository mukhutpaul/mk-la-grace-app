<body>
    <!-- ============================================================== -->
    <!-- main wrapper -->
    <!-- ============================================================== -->
    <div class="dashboard-main-wrapper">
        <!-- ============================================================== -->
        <app-navbar></app-navbar>
        <!-- ============================================================== -->
        <app-sidebar></app-sidebar>
        <!-- ============================================================== -->
    
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <div class="dashboard-wrapper">
            <div class="dashboard-ecommerce">
                <div class="container-fluid dashboard-content ">
                  
            <!-- ============================================================== -->
            <!-- basic table  -->
            <!-- ============================================================== -->
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <div class="card">
                    <h5 class="card-header">GESTION DES PAIEMENTS</h5>
                    <div class="card-header" style="text-align: right;">
                        <button class="btn btn-block btn-primary btn-xl" (click)="handleAddAction()" style="width: 200px;">Nouveau Paiement</button>
                    </div>
                    <div class="card-body">
                        <div class="email-search">
                            <div class="input-group input-search">
                                <input class="form-control" (keyup)="applyFilter($event)" type="text" placeholder="Recherche..."><span class="input-group-btn">
                               <button class="btn btn-secondary" type="button"><i class="fas fa-search"></i></button></span>
                            </div>
                        </div><br>
                      
                       
                        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                            <ng-container matColumnDef="id">
                                <th mat-header-cell *matHeaderCellDef>Identifiant</th>
                                <td mat-cell *matCellDef="let element">{{element.id}}</td>

                            </ng-container>
                            <ng-container matColumnDef="stagiaire">
                                <th mat-header-cell *matHeaderCellDef>Stagiaire</th>
                                <td mat-cell *matCellDef="let element">{{element.stagiaire.name}} {{element.stagiaire.postnom}},{{element.stagiaire.prenom}}</td>
                            </ng-container>

                            <ng-container matColumnDef="formation">
                                <th mat-header-cell *matHeaderCellDef>Formation</th>
                                <td mat-cell *matCellDef="let element">{{element.formation.title}}</td>

                            </ng-container>

                            <ng-container matColumnDef="datePaie">
                                <th mat-header-cell *matHeaderCellDef>Date Paiement</th>
                                <td mat-cell *matCellDef="let element">{{element.datePaie}}</td>

                            </ng-container>

                            <ng-container matColumnDef="montant">
                                <th mat-header-cell *matHeaderCellDef>Montant</th>
                                <td mat-cell *matCellDef="let element">{{element.montant}}</td>

                            </ng-container>
                            <ng-container matColumnDef="tranche">
                                <th mat-header-cell *matHeaderCellDef>Tranche</th>
                                <td mat-cell *matCellDef="let element">{{element.tranche.name}}</td>

                            </ng-container>

                            


                            <!-- <ng-container matColumnDef="password">
                                <th mat-header-cell *matHeaderCellDef>Password</th>
                                <td mat-cell *matCellDef="let element">{{element.password}}</td>
                            </ng-container> -->

                            <ng-container matColumnDef="edit">
                                <th mat-header-cell *matHeaderCellDef>Action</th>
                                <td mat-cell *matCellDef="let element" class="action-link">   
                                    <a routerLink="/paiement" matTooltip="Modifier"(click)="handleEditAction(element)"><i class="m-r-10 mdi mdi-pen"></i> </a>
                                    <a  routerLink="/paiement" matTooltip="Delete" (click)="deletePaie(element.id)" *ngIf="role=='Admin'"><i class="m-r-10 mdi mdi-delete-empty"></i></a>
                                    <a  routerLink="/paiement" matTooltip="Delete" (click)="recu(element.id)"><i class="fas fa-print"></i></a>
                                </td>

                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"></tr>
                            <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>
                        </table>
                        <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButtons
                            style="color:#5e60e4;"> </mat-paginator>
                </div>
            </div>
           
        </div>

    </div>  </div>
</div>
        <!-- ============================================================== -->
        <app-footer></app-footer>
    </div>
<body>  



